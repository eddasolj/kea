function e(e,t=window.parent){window.self!==window.top&&t.postMessage(JSON.stringify(e),"*")}function t(n,o=window.parent){e(n),o!==o.top&&t(n,o.parent)}function n(){}function o(e){return e()}function i(){return Object.create(null)}function r(e){e.forEach(o)}function l(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let c,a;function u(e,t){return c||(c=document.createElement("a")),c.href=t,e===c.href}function d(e,t,o){e.$$.on_destroy.push(function(e,...t){if(null==e)return n;const o=e.subscribe(...t);return o.unsubscribe?()=>o.unsubscribe():o}(t,o))}function p(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function m(e,t){e.appendChild(t)}function f(e,t,n){e.insertBefore(t,n||null)}function h(e){e.parentNode.removeChild(e)}function g(e){return document.createElement(e)}function b(e){return document.createTextNode(e)}function $(){return b(" ")}function y(){return b("")}function _(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function w(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function x(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function v(e,t,n,o){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function k(e,t,n){e.classList[n?"add":"remove"](t)}class T{constructor(){this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.e=g(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)f(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(h)}}function C(e){a=e}function E(){if(!a)throw new Error("Function called outside component initialization");return a}function O(){const e=E();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const i=function(e,t,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,!1,t),o}(t,n);o.slice().forEach(t=>{t.call(e,i)})}}}function P(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e.call(this,t))}const L=[],A=[],R=[],I=[],S=Promise.resolve();let N=!1;function F(e){R.push(e)}const V=new Set;let U=0;function D(){const e=a;do{for(;U<L.length;){const e=L[U];U++,C(e),M(e.$$)}for(C(null),L.length=0,U=0;A.length;)A.pop()();for(let e=0;e<R.length;e+=1){const t=R[e];V.has(t)||(V.add(t),t())}R.length=0}while(L.length);for(;I.length;)I.pop()();N=!1,V.clear(),C(e)}function M(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(F)}}const j=new Set;let H;function z(){H={r:0,c:[],p:H}}function q(){H.r||r(H.c),H=H.p}function G(e,t){e&&e.i&&(j.delete(e),e.i(t))}function B(e,t,n,o){if(e&&e.o){if(j.has(e))return;j.add(e),H.c.push(()=>{j.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}function J(e){e&&e.c()}function K(e,t,n,i){const{fragment:s,on_mount:c,on_destroy:a,after_update:u}=e.$$;s&&s.m(t,n),i||F(()=>{const t=c.map(o).filter(l);a?a.push(...t):r(t),e.$$.on_mount=[]}),u.forEach(F)}function W(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(e,t){-1===e.$$.dirty[0]&&(L.push(e),N||(N=!0,S.then(D)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function X(e,t,o,l,s,c,u,d=[-1]){const p=a;C(e);const m=e.$$={fragment:null,ctx:null,props:c,update:n,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(p?p.$$.context:[])),callbacks:i(),dirty:d,skip_bound:!1,root:t.target||p.$$.root};u&&u(m.root);let f=!1;if(m.ctx=o?o(e,t.props||{},(t,n,...o)=>{const i=o.length?o[0]:n;return m.ctx&&s(m.ctx[t],m.ctx[t]=i)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](i),f&&Q(e,t)),n}):[],m.update(),f=!0,r(m.before_update),m.fragment=!!l&&l(m.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);m.fragment&&m.fragment.l(e),e.forEach(h)}else m.fragment&&m.fragment.c();t.intro&&G(e.$$.fragment),K(e,t.target,t.anchor,t.customElement),D()}C(p)}class Y{$destroy(){W(this,1),this.$destroy=n}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Z(e){let t,o,i,r=(e[0]?e[1].completed:e[1].notCompleted)+"";return{c(){t=g("div"),o=g("span"),i=b(r),w(t,"class","its-plans__element-progress"),k(t,"complete",e[0])},m(e,n){f(e,t,n),m(t,o),m(o,i)},p(e,[n]){3&n&&r!==(r=(e[0]?e[1].completed:e[1].notCompleted)+"")&&x(i,r),1&n&&k(t,"complete",e[0])},i:n,o:n,d(e){e&&h(t)}}}function ee(e,t,n){let{complete:o}=t,{i18n:i}=t;return e.$$set=e=>{"complete"in e&&n(0,o=e.complete),"i18n"in e&&n(1,i=e.i18n)},[o,i]}class te extends Y{constructor(e){super(),X(this,e,ee,Z,s,{complete:0,i18n:1})}}function ne(e){let t,n,o,i,r,l,s;return{c(){t=g("a"),n=g("span"),o=b(e[0]),i=$(),r=g("span"),w(r,"class","bottom-toolbar_link-icon"),w(t,"class","bottom-toolbar_link"),w(t,"href",e[2]),w(t,"aria-label",e[1])},m(c,a){f(c,t,a),m(t,n),m(n,o),m(t,i),m(t,r),l||(s=_(t,"click",e[4]("clickEvent")),l=!0)},p(e,n){1&n&&x(o,e[0]),4&n&&w(t,"href",e[2]),2&n&&w(t,"aria-label",e[1])},d(e){e&&h(t),l=!1,s()}}}function oe(e){let t,o=e[3]&&ne(e);return{c(){t=g("div"),o&&o.c(),w(t,"class","bottom-toolbar__wrapper")},m(e,n){f(e,t,n),o&&o.m(t,null)},p(e,[n]){e[3]?o?o.p(e,n):(o=ne(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},i:n,o:n,d(e){e&&h(t),o&&o.d()}}}function ie(e,t,n){let{linkText:o}=t,{ariaLabelLink:i}=t,{url:r}=t,{isVisible:l=!0}=t;const s=O();return e.$$set=e=>{"linkText"in e&&n(0,o=e.linkText),"ariaLabelLink"in e&&n(1,i=e.ariaLabelLink),"url"in e&&n(2,r=e.url),"isVisible"in e&&n(3,l=e.isVisible)},[o,i,r,l,s]}class re extends Y{constructor(e){super(),X(this,e,ie,oe,s,{linkText:0,ariaLabelLink:1,url:2,isVisible:3})}}function le(e){let t,o,i,l,s,c,a;return{c(){t=g("button"),o=g("span"),i=g("span"),l=b(e[3]),w(i,"class",e[12]),w(o,"class","prom-button__text"),w(t,"aria-haspopup",e[6]),w(t,"id",e[1]),w(t,"type",e[5]),w(t,"class",s="prom-button prom-button__"+e[0]+" "+e[2]+" "+e[10]+" "+e[11]),t.disabled=e[4],w(t,"data-active",e[9]),w(t,"aria-describedby",e[7])},m(n,r){f(n,t,r),m(t,o),m(o,i),m(i,l),e[21](t),c||(a=[_(t,"click",e[16]),_(t,"focus",e[17]),_(t,"blur",e[18]),_(t,"keyup",e[19]),_(t,"keydown",e[20])],c=!0)},p(e,[n]){8&n&&x(l,e[3]),4096&n&&w(i,"class",e[12]),64&n&&w(t,"aria-haspopup",e[6]),2&n&&w(t,"id",e[1]),32&n&&w(t,"type",e[5]),3077&n&&s!==(s="prom-button prom-button__"+e[0]+" "+e[2]+" "+e[10]+" "+e[11])&&w(t,"class",s),16&n&&(t.disabled=e[4]),512&n&&w(t,"data-active",e[9]),128&n&&w(t,"aria-describedby",e[7])},i:n,o:n,d(n){n&&h(t),e[21](null),c=!1,r(a)}}}function se(e,t,n){let o,i,r,l,s,{type:c="basic"}=t,{iconOnly:a=!1}=t,{id:u="rnd"+Math.random().toString(36).substring(7)}=t,{cssClass:d=""}=t,{text:p=""}=t,{large:m=!1}=t,{disabled:f=!1}=t,{loading:h=!1}=t,{htmlType:g="submit"}=t,{haspopup:b=!1}=t,{describedby:$}=t;return e.$$set=e=>{"type"in e&&n(0,c=e.type),"iconOnly"in e&&n(13,a=e.iconOnly),"id"in e&&n(1,u=e.id),"cssClass"in e&&n(2,d=e.cssClass),"text"in e&&n(3,p=e.text),"large"in e&&n(14,m=e.large),"disabled"in e&&n(4,f=e.disabled),"loading"in e&&n(15,h=e.loading),"htmlType"in e&&n(5,g=e.htmlType),"haspopup"in e&&n(6,b=e.haspopup),"describedby"in e&&n(7,$=e.describedby)},e.$$.update=()=>{8192&e.$$.dirty&&n(12,o=a?"prom-button__text--hidden":""),16384&e.$$.dirty&&n(11,i=m?"prom-button--large":""),32768&e.$$.dirty&&n(10,r=h?"prom-button--loading":""),32784&e.$$.dirty&&n(9,l=!h&&!f)},[c,u,d,p,f,g,b,$,s,l,r,i,o,a,m,h,function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(e){A[e?"unshift":"push"](()=>{s=e,n(8,s)})}]}class ce extends Y{constructor(e){super(),X(this,e,se,le,s,{type:0,iconOnly:13,id:1,cssClass:2,text:3,large:14,disabled:4,loading:15,htmlType:5,haspopup:6,describedby:7})}}function ae(e){let t,n,o={cssClass:"prom-icon-button "+e[14]+" "+e[12]+" "+e[3],disabled:e[0],haspopup:e[1],iconOnly:e[4],id:e[5],large:e[6],loading:e[7],text:e[8],type:e[10],htmlType:e[2]};return t=new ce({props:o}),e[28](t),t.$on("blur",e[29]),t.$on("click",e[30]),t.$on("focus",e[31]),t.$on("keyup",e[32]),t.$on("keydown",e[33]),{c(){J(t.$$.fragment)},m(e,o){K(t,e,o),n=!0},p(e,n){const o={};20488&n[0]&&(o.cssClass="prom-icon-button "+e[14]+" "+e[12]+" "+e[3]),1&n[0]&&(o.disabled=e[0]),2&n[0]&&(o.haspopup=e[1]),16&n[0]&&(o.iconOnly=e[4]),32&n[0]&&(o.id=e[5]),64&n[0]&&(o.large=e[6]),128&n[0]&&(o.loading=e[7]),256&n[0]&&(o.text=e[8]),1024&n[0]&&(o.type=e[10]),4&n[0]&&(o.htmlType=e[2]),t.$set(o)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(n){e[28](null),W(t,n)}}}function ue(e){let t,n,o={cssClass:"prom-icon-button "+e[13],disabled:e[0],haspopup:e[1],iconOnly:e[4],id:e[5],large:e[6],loading:e[7],text:e[8],type:e[10],htmlType:e[2]};return t=new ce({props:o}),e[22](t),t.$on("blur",e[23]),t.$on("click",e[24]),t.$on("focus",e[25]),t.$on("keyup",e[26]),t.$on("keydown",e[27]),{c(){J(t.$$.fragment)},m(e,o){K(t,e,o),n=!0},p(e,n){const o={};8192&n[0]&&(o.cssClass="prom-icon-button "+e[13]),1&n[0]&&(o.disabled=e[0]),2&n[0]&&(o.haspopup=e[1]),16&n[0]&&(o.iconOnly=e[4]),32&n[0]&&(o.id=e[5]),64&n[0]&&(o.large=e[6]),128&n[0]&&(o.loading=e[7]),256&n[0]&&(o.text=e[8]),1024&n[0]&&(o.type=e[10]),4&n[0]&&(o.htmlType=e[2]),t.$set(o)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(n){e[22](null),W(t,n)}}}function de(e){let t,n,o={cssClass:"prom-icon-button "+e[12]+" "+e[3],disabled:e[0],haspopup:e[1],id:e[5],large:e[6],loading:e[7],text:e[8],type:e[10],htmlType:e[2]};return t=new ce({props:o}),e[16](t),t.$on("blur",e[17]),t.$on("click",e[18]),t.$on("focus",e[19]),t.$on("keyup",e[20]),t.$on("keydown",e[21]),{c(){J(t.$$.fragment)},m(e,o){K(t,e,o),n=!0},p(e,n){const o={};4104&n[0]&&(o.cssClass="prom-icon-button "+e[12]+" "+e[3]),1&n[0]&&(o.disabled=e[0]),2&n[0]&&(o.haspopup=e[1]),32&n[0]&&(o.id=e[5]),64&n[0]&&(o.large=e[6]),128&n[0]&&(o.loading=e[7]),256&n[0]&&(o.text=e[8]),1024&n[0]&&(o.type=e[10]),4&n[0]&&(o.htmlType=e[2]),t.$set(o)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(n){e[16](null),W(t,n)}}}function pe(e){let t,n,o,i;const r=[de,ue,ae],l=[];function s(e,t){return e[9]&&e[4]?0:e[9]?1:2}return t=s(e),n=l[t]=r[t](e),{c(){n.c(),o=y()},m(e,n){l[t].m(e,n),f(e,o,n),i=!0},p(e,i){let c=t;t=s(e),t===c?l[t].p(e,i):(z(),B(l[c],1,1,()=>{l[c]=null}),q(),n=l[t],n?n.p(e,i):(n=l[t]=r[t](e),n.c()),G(n,1),n.m(o.parentNode,o))},i(e){i||(G(n),i=!0)},o(e){B(n),i=!1},d(e){l[t].d(e),e&&h(o)}}}function me(e,t,n){let o,i,r,l,{disabled:s=!1}=t,{haspopup:c=!1}=t,{htmlType:a="submit"}=t,{iconClass:u=""}=t,{iconOnly:d=!1}=t,{iconPlacement:p="start"}=t,{id:m=""}=t,{large:f=!1}=t,{loading:h=!1}=t,{text:g=""}=t,{textOnly:b=!1}=t,{type:$="basic"}=t;return e.$$set=e=>{"disabled"in e&&n(0,s=e.disabled),"haspopup"in e&&n(1,c=e.haspopup),"htmlType"in e&&n(2,a=e.htmlType),"iconClass"in e&&n(3,u=e.iconClass),"iconOnly"in e&&n(4,d=e.iconOnly),"iconPlacement"in e&&n(15,p=e.iconPlacement),"id"in e&&n(5,m=e.id),"large"in e&&n(6,f=e.large),"loading"in e&&n(7,h=e.loading),"text"in e&&n(8,g=e.text),"textOnly"in e&&n(9,b=e.textOnly),"type"in e&&n(10,$=e.type)},e.$$.update=()=>{528&e.$$.dirty[0]&&d&&b&&console.warn("The attributes iconOnly and textOnly cannot be both set to false."),32768&e.$$.dirty[0]&&(!p||"string"!=typeof p||"start"!==p&&"end"!==p)&&console.warn('Valid values for iconPlacement is "start" and "end".'),16&e.$$.dirty[0]&&n(14,o=d?"prom-icon-button--icon-only":""),512&e.$$.dirty[0]&&n(13,i=b?"prom-icon-button--text-only":""),32768&e.$$.dirty[0]&&n(12,r="end"===p?"prom-icon-button--icon-end":"")},[s,c,a,u,d,m,f,h,g,b,$,l,r,i,o,p,function(e){A[e?"unshift":"push"](()=>{l=e,n(11,l)})},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(e){A[e?"unshift":"push"](()=>{l=e,n(11,l)})},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(e){A[e?"unshift":"push"](()=>{l=e,n(11,l)})},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)}]}class fe extends Y{constructor(e){super(),X(this,e,me,pe,s,{disabled:0,haspopup:1,htmlType:2,iconClass:3,iconOnly:4,iconPlacement:15,id:5,large:6,loading:7,text:8,textOnly:9,type:10},null,[-1,-1])}}const he=[];const ge=function(e,t=n){let o;const i=new Set;function r(t){if(s(e,t)&&(e=t,o)){const t=!he.length;for(const t of i)t[1](),he.push(t,e);if(t){for(let e=0;e<he.length;e+=2)he[e][0](he[e+1]);he.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(l,s=n){const c=[l,s];return i.add(c),1===i.size&&(o=t(r)||n),l(e),()=>{i.delete(c),0===i.size&&(o(),o=null)}}}}({}),be=window.plansConfig.i18n,$e=window.plansConfig;function ye(e,...t){return function(e,t,...n){if(!e)throw TypeError("Template not specified");if("string"!=typeof e)throw TypeError("Template is not a string");return e.replace(t,(e,t)=>t in n?n[t]:e)}(e,/\{(\d+)\}/g,...t)}const _e=1,we=2,xe={RichText:0,Topic:1,Plan:3,PlanDescription:4,Date:5,ClassHours:6,LearningObjectives:7,Resources:8,Activities:9,Term:10,Rubric:11,Elements:12,Thumbnail:13,TopicThumbnail:14};function ve(e){let t,n,o,i,r,l,s,c=e[5]&&ke(e),a=e[4]&&Ee(e);return{c(){t=g("div"),n=g("div"),o=$(),i=g("span"),c&&c.c(),r=$(),a&&a.c(),w(n,"class","prom-banner__icon"),w(n,"aria-hidden","true"),w(i,"class","prom-banner__message"),w(i,"aria-live",e[6]),w(i,"role",e[7]),w(i,"aria-atomic","true"),w(t,"class",l="prom-banner prom-banner--"+e[1])},m(e,l){f(e,t,l),m(t,n),m(t,o),m(t,i),c&&c.m(i,null),m(t,r),a&&a.m(t,null),s=!0},p(e,n){e[5]?c?(c.p(e,n),32&n&&G(c,1)):(c=ke(e),c.c(),G(c,1),c.m(i,null)):c&&(z(),B(c,1,1,()=>{c=null}),q()),(!s||64&n)&&w(i,"aria-live",e[6]),(!s||128&n)&&w(i,"role",e[7]),e[4]?a?a.p(e,n):(a=Ee(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),(!s||2&n&&l!==(l="prom-banner prom-banner--"+e[1]))&&w(t,"class",l)},i(e){s||(G(c),s=!0)},o(e){B(c),s=!1},d(e){e&&h(t),c&&c.d(),a&&a.d()}}}function ke(e){let t,n,o,i,r,l,s=e[2]&&Te(e),c=e[3]&&Ce(e);const a=e[15].default,u=function(e,t,n,o){if(e){const i=p(e,t,n,o);return e[0](i)}}(a,e,e[14],null);return{c(){t=g("span"),n=b(e[8]),o=$(),s&&s.c(),i=$(),c&&c.c(),r=$(),u&&u.c(),w(t,"class","screen-reader")},m(e,a){f(e,t,a),m(t,n),f(e,o,a),s&&s.m(e,a),f(e,i,a),c&&c.m(e,a),f(e,r,a),u&&u.m(e,a),l=!0},p(e,t){(!l||256&t)&&x(n,e[8]),e[2]?s?s.p(e,t):(s=Te(e),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null),e[3]?c?c.p(e,t):(c=Ce(e),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null),u&&u.p&&(!l||16384&t)&&function(e,t,n,o,i,r){if(i){const l=p(t,n,o,r);e.p(l,i)}}(u,a,e,e[14],l?function(e,t,n,o){if(e[2]&&o){const i=e[2](o(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|i[o];return e}return t.dirty|i}return t.dirty}(a,e[14],t,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[14]),null)},i(e){l||(G(u,e),l=!0)},o(e){B(u,e),l=!1},d(e){e&&h(t),e&&h(o),s&&s.d(e),e&&h(i),c&&c.d(e),e&&h(r),u&&u.d(e)}}}function Te(e){let t;return{c(){t=b(e[2])},m(e,n){f(e,t,n)},p(e,n){4&n&&x(t,e[2])},d(e){e&&h(t)}}}function Ce(e){let t,n;return{c(){t=new T,n=y(),t.a=n},m(o,i){t.m(e[3],o,i),f(o,n,i)},p(e,n){8&n&&t.p(e[3])},d(e){e&&h(n),e&&t.d()}}}function Ee(e){let t,n,o,i,r;return{c(){t=g("button"),n=g("span"),o=b(e[9]),w(n,"class","prom-banner__close-text"),w(t,"type","button"),w(t,"class","prom-banner__close")},m(l,s){f(l,t,s),m(t,n),m(n,o),i||(r=_(t,"click",e[10]),i=!0)},p(e,t){512&t&&x(o,e[9])},d(e){e&&h(t),i=!1,r()}}}function Oe(e){let t,n,o=e[0]&&ve(e);return{c(){o&&o.c(),t=y()},m(e,i){o&&o.m(e,i),f(e,t,i),n=!0},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&G(o,1)):(o=ve(e),o.c(),G(o,1),o.m(t.parentNode,t)):o&&(z(),B(o,1,1,()=>{o=null}),q())},i(e){n||(G(o),n=!0)},o(e){B(o),n=!1},d(e){o&&o.d(e),e&&h(t)}}}function Pe(e,t,n){let o,i,{$$slots:r={},$$scope:l}=t;const s=O();let{type:c="info"}=t,{visible:a=!1}=t,{text:u=null}=t,{html:d=null}=t,{close:p=null}=t,{closable:m=!0}=t,{infoText:f="information"}=t,{warningText:h="warning"}=t,g=!1,b="",$="";return e.$$set=e=>{"type"in e&&n(1,c=e.type),"visible"in e&&n(0,a=e.visible),"text"in e&&n(2,u=e.text),"html"in e&&n(3,d=e.html),"close"in e&&n(11,p=e.close),"closable"in e&&n(4,m=e.closable),"infoText"in e&&n(12,f=e.infoText),"warningText"in e&&n(13,h=e.warningText),"$$scope"in e&&n(14,l=e.$$scope)},e.$$.update=()=>{var t;2064&e.$$.dirty&&n(9,o=p||!m||console.warn("Banner close text is required but not included!")),2&e.$$.dirty&&n(6,b={info:"polite",warning:"assertive"}[c]||"polite"),2&e.$$.dirty&&n(7,$={info:"status",warning:"alert"}[c]||"status"),12290&e.$$.dirty&&n(8,i={info:f,warning:h}[c]),1&e.$$.dirty&&(t=()=>{a&&setTimeout(()=>{n(5,g=a)},200)},E().$$.on_mount.push(t)),1&e.$$.dirty&&(a?setTimeout(()=>{n(5,g=!0)},100):n(5,g=!1))},[a,c,u,d,m,g,b,$,i,o,function(e){n(0,a=!1),s("hidden",{event:e})},p,f,h,l,r]}!function(e){const t={};Object.keys(e).forEach(n=>t[e[n]]=n)}(xe);class Le extends Y{constructor(e){super(),X(this,e,Pe,Oe,s,{type:1,visible:0,text:2,html:3,close:11,closable:4,infoText:12,warningText:13})}}class Ae extends Error{constructor(e,t){super(e),this.response=t}}const Re=Object.freeze({ok:200,created:201,accepted:202,nonAuthoritativeInformation:203,noContent:204,resetContent:205,partialContent:206,multipleChoices:300,movedPermanently:301,found:302,seeOther:303,notModified:304,useProxy:305,temporaryRedirect:307,badRequest:400,unauthorized:401,paymentRequired:402,forbidden:403,notFound:404,methodNotAllowed:405,notAcceptable:406,proxyAuthenticationRequired:407,requestTimeout:408,conflict:409,gone:410,internalServerError:500,notImplemented:501,badGateway:502,serviceUnavailable:503,gatewayTimeout:504,httpVersionNotSupported:505});function Ie(e,t={}){return new Promise((n,o)=>{fetch(e,Ne("GET",void 0,t)).then(Se).then(n).catch(o)})}function Se(e){if(!e.ok)throw new Ae(e.statusText,e);return e.status===Re.noContent?new Promise(e=>e(void 0)):e.clone().json().catch(()=>e.text())}function Ne(e,t,n){return{method:e,mode:void 0!==n.mode?n.mode:"cors",cache:void 0!==n.cache?n.cache:"default",credentials:void 0!==n.credentials?n.credentials:"same-origin",headers:Object.assign({"Content-Type":"application/json; charset=utf-8"},n.headers),body:t}}const Fe=()=>({headers:{[$e.antiForgeryHeaderName]:$e.antiForgeryHeaderValue}}),Ve=(e=$e.planId)=>Ie(`/restapi/personal/course/${$e.courseId}/plans/${e}/v2?ChildId=${$e.childId}`,Fe()),Ue=(e=$e.planId)=>Ie(`/restapi/planner/anonymous2/${$e.publicAccessKey}/${e}/v2`,Fe()),De=(e,t)=>function(e,t,n={}){return new Promise((o,i)=>{fetch(e,Ne("PUT",JSON.stringify(t),n)).then(Se).then(o).catch(i)})}("/restapi/planner/plan/element/resetReadTimes",{CourseId:$e.courseId,PlanId:e,ElementId:t},{headers:{[$e.antiForgeryHeaderName]:$e.antiForgeryHeaderValue}});function Me({url:e="/restapi/common/kpi/v1",section:t,measurement:n,context:o=null}){return function(e,t,n={}){return new Promise((o,i)=>{fetch(e,Ne("POST",JSON.stringify(t),n)).then(Se).then(o).catch(i)})}(e,{measureSection:t,measurement:n,measureContext:o})}function je(e,t,n){const o=e.slice();return o[23]=t[n],o}function He(e){let t,n,o,i;const r=[qe,ze],l=[];return t=$e.resourceSidebarEnabled?1:0,n=l[t]=r[t](e),{c(){n.c(),o=y()},m(e,n){l[t].m(e,n),f(e,o,n),i=!0},p(e,t){n.p(e,t)},i(e){i||(G(n),i=!0)},o(e){B(n),i=!1},d(e){l[t].d(e),e&&h(o)}}}function ze(e){let t,n,o,i,r,l,s,c,a,d,p,y,v,T,C,E,O,P,L,A,R,I,S,N,F,V,U,D,M,j,H,Q,X,Y,Z,ee,te,ne,oe,ie,re=e[4].plan.title+"",le=(e[0]?be.showSidebar:be.hideSidebar)+"";a=new fe({props:{type:"plain",htmlType:"button",iconClass:e[0]?"menu-button__smaller-devices collapsed":"close-menu-button__smaller-devices",text:e[0]?be.menu:be.close}}),a.$on("click",e[15]),p=new Le({props:{html:$e.viewAsInCourseText,visible:$e.isViewAsInCourseEnabled,closable:!1}});let se=e[3],ce=[];for(let t=0;t<se.length;t+=1)ce[t]=Ke(je(e,se,t));const ae=e=>B(ce[e],1,1,()=>{ce[e]=null});let ue=(e[8]||!$e.canEdit)&&We(e);return{c(){t=g("header"),n=g("a"),o=g("span"),i=b(e[5]),r=$(),l=g("span"),l.textContent=""+be.back,c=$(),J(a.$$.fragment),d=$(),J(p.$$.fragment),y=$(),v=g("div"),T=g("aside"),C=g("header"),E=g("a"),O=g("div"),P=$(),L=g("span"),A=b(re),R=$(),I=g("hr"),S=$(),N=g("ul");for(let e=0;e<ce.length;e+=1)ce[e].c();F=$(),V=g("footer"),U=g("button"),D=g("div"),M=$(),j=g("span"),H=b(le),Q=$(),X=g("section"),Y=g("iframe"),te=$(),ue&&ue.c(),w(o,"class","resource-page__title-text"),w(l,"class","resource-page__title-text resource-page__title-text--short"),w(n,"class",s=e[0]?Ye+" collapsed":""+Ye),w(n,"href",e[6]),w(t,"class","resource-page__header"),w(O,"class","resource-page__plan-icon"),w(L,"class","resource-page__item-title"),w(E,"href",e[6]),w(C,"class","resource-page__sidebar-header"),w(N,"class","resource-page_resource-list"),w(D,"class","resource-page__expand-icon"),w(U,"class","resource-page__sidebar-toggle"),w(U,"type","button"),k(U,"collapsed",e[0]),w(V,"class","resource-page__sidebar-footer"),w(T,"class","resource-page__sidebar"),k(T,"collapsed",e[0]),u(Y.src,Z=e[2].url)||w(Y,"src",Z),w(Y,"title",ee=e[2].title),w(Y,"name","resource"),w(Y,"webkitallowfullscreen","true"),w(Y,"mozallowfullscreen","true"),Y.allowFullscreen="true",w(Y,"allow","camera *; microphone *"),w(X,"class","resource-page__content "+($e.canEdit?"":"resource-page__content-withfooter")),w(v,"class","resource-page__body")},m(s,u){f(s,t,u),m(t,n),m(n,o),m(o,i),m(n,r),m(n,l),m(t,c),K(a,t,null),f(s,d,u),K(p,s,u),f(s,y,u),f(s,v,u),m(v,T),m(T,C),m(C,E),m(E,O),m(E,P),m(E,L),m(L,A),m(T,R),m(T,I),m(T,S),m(T,N);for(let e=0;e<ce.length;e+=1)ce[e].m(N,null);m(T,F),m(T,V),m(V,U),m(U,D),m(U,M),m(U,j),m(j,H),m(v,Q),m(v,X),m(X,Y),m(v,te),ue&&ue.m(v,null),ne=!0,oe||(ie=_(U,"click",e[16]),oe=!0)},p(e,t){(!ne||32&t)&&x(i,e[5]),(!ne||1&t&&s!==(s=e[0]?Ye+" collapsed":""+Ye))&&w(n,"class",s),(!ne||64&t)&&w(n,"href",e[6]);const o={};if(1&t&&(o.iconClass=e[0]?"menu-button__smaller-devices collapsed":"close-menu-button__smaller-devices"),1&t&&(o.text=e[0]?be.menu:be.close),a.$set(o),(!ne||16&t)&&re!==(re=e[4].plan.title+"")&&x(A,re),(!ne||64&t)&&w(E,"href",e[6]),2190&t){let n;for(se=e[3],n=0;n<se.length;n+=1){const o=je(e,se,n);ce[n]?(ce[n].p(o,t),G(ce[n],1)):(ce[n]=Ke(o),ce[n].c(),G(ce[n],1),ce[n].m(N,null))}for(z(),n=se.length;n<ce.length;n+=1)ae(n);q()}(!ne||1&t)&&le!==(le=(e[0]?be.showSidebar:be.hideSidebar)+"")&&x(H,le),1&t&&k(U,"collapsed",e[0]),1&t&&k(T,"collapsed",e[0]),(!ne||4&t&&!u(Y.src,Z=e[2].url))&&w(Y,"src",Z),(!ne||4&t&&ee!==(ee=e[2].title))&&w(Y,"title",ee),e[8]||!$e.canEdit?ue?(ue.p(e,t),256&t&&G(ue,1)):(ue=We(e),ue.c(),G(ue,1),ue.m(v,null)):ue&&(z(),B(ue,1,1,()=>{ue=null}),q())},i(e){if(!ne){G(a.$$.fragment,e),G(p.$$.fragment,e);for(let e=0;e<se.length;e+=1)G(ce[e]);G(ue),ne=!0}},o(e){B(a.$$.fragment,e),B(p.$$.fragment,e),ce=ce.filter(Boolean);for(let e=0;e<ce.length;e+=1)B(ce[e]);B(ue),ne=!1},d(e){e&&h(t),W(a),e&&h(d),W(p,e),e&&h(y),e&&h(v),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(ce,e),ue&&ue.d(),oe=!1,ie()}}}function qe(e){let t,n,o,i,r,l,s,c,a,d,p,y,_;return c=new Le({props:{html:$e.viewAsInCourseText,visible:$e.isViewAsInCourseEnabled,closable:!1}}),{c(){t=g("header"),n=g("a"),o=g("span"),i=b(e[5]),r=$(),l=g("span"),l.textContent=""+be.back,s=$(),J(c.$$.fragment),a=$(),d=g("iframe"),w(o,"class","resource-page__title-text"),w(l,"class","resource-page__title-text resource-page__title-text--short"),w(n,"class","resource-page__back-link"),w(n,"href",e[6]),w(t,"class","resource-page__header"),w(d,"class","resource-page__content"),u(d.src,p=e[2].url)||w(d,"src",p),w(d,"title",y=e[2].title),w(d,"name","resource"),w(d,"webkitallowfullscreen","true"),w(d,"mozallowfullscreen","true"),d.allowFullscreen="true",w(d,"allow","camera *; microphone *")},m(e,u){f(e,t,u),m(t,n),m(n,o),m(o,i),m(n,r),m(n,l),f(e,s,u),K(c,e,u),f(e,a,u),f(e,d,u),_=!0},p(e,t){(!_||32&t)&&x(i,e[5]),(!_||64&t)&&w(n,"href",e[6]),(!_||4&t&&!u(d.src,p=e[2].url))&&w(d,"src",p),(!_||4&t&&y!==(y=e[2].title))&&w(d,"title",y)},i(e){_||(G(c.$$.fragment,e),_=!0)},o(e){B(c.$$.fragment,e),_=!1},d(e){e&&h(t),e&&h(s),W(c,e),e&&h(a),e&&h(d)}}}function Ge(e){let t,n;return t=new te({props:{complete:e[11](e[23])&&(e[23].id!==e[2].id||!e[7]),i18n:be}}),{c(){J(t.$$.fragment)},m(e,o){K(t,e,o),n=!0},p(e,n){const o={};140&n&&(o.complete=e[11](e[23])&&(e[23].id!==e[2].id||!e[7])),t.$set(o)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Be(e){let t;return{c(){t=g("span"),w(t,"class","resource-page__resource-icon-folder"),v(t,"background-image","url("+e[23].iconUrl+")"),w(t,"aria-hidden","true")},m(e,n){f(e,t,n)},p(e,n){8&n&&v(t,"background-image","url("+e[23].iconUrl+")")},i:n,o:n,d(e){e&&h(t)}}}function Je(e){let t;return{c(){t=g("div"),w(t,"class","resource-page__resource-icon"),v(t,"background-image","url("+e[23].iconUrl+")"),w(t,"aria-hidden","true")},m(e,n){f(e,t,n)},p(e,n){8&n&&v(t,"background-image","url("+e[23].iconUrl+")")},i:n,o:n,d(e){e&&h(t)}}}function Ke(e){let t,n,o,i,r,l,s,c,a,u,d=e[23].title+"";const p=[Je,Be,Ge],y=[];function _(e,t){return $e.canEdit?0:"Folder"===e[23].type?1:2}return o=_(e),i=y[o]=p[o](e),{c(){t=g("li"),n=g("a"),i.c(),r=$(),l=g("span"),s=b(d),a=$(),w(l,"class","resource-page__item-title"),w(n,"href",c=""+(e[23].planPageUrl+e[1])),w(t,"class","resource-page_resource-item"),k(t,"current",e[23].id===e[2].id),k(t,"inactive",!e[23].isActive)},m(e,i){f(e,t,i),m(t,n),y[o].m(n,null),m(n,r),m(n,l),m(l,s),m(t,a),u=!0},p(e,l){let a=o;o=_(e),o===a?y[o].p(e,l):(z(),B(y[a],1,1,()=>{y[a]=null}),q(),i=y[o],i?i.p(e,l):(i=y[o]=p[o](e),i.c()),G(i,1),i.m(n,r)),(!u||8&l)&&d!==(d=e[23].title+"")&&x(s,d),(!u||10&l&&c!==(c=""+(e[23].planPageUrl+e[1])))&&w(n,"href",c),12&l&&k(t,"current",e[23].id===e[2].id),8&l&&k(t,"inactive",!e[23].isActive)},i(e){u||(G(i),u=!0)},o(e){B(i),u=!1},d(e){e&&h(t),y[o].d()}}}function We(e){let t,n,o,i=e[8]&&Qe(e),r=!$e.canEdit&&function(e){let t,n;return t=new re({props:{linkText:be.next,ariaLabelLink:be.nextResource,url:e[10]?"":e[9].planPageUrl+e[1],isVisible:!e[10]}}),t.$on("clickEvent",e[13]),{c(){J(t.$$.fragment)},m(e,o){K(t,e,o),n=!0},p(e,n){const o={};1538&n&&(o.url=e[10]?"":e[9].planPageUrl+e[1]),1024&n&&(o.isVisible=!e[10]),t.$set(o)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}(e);return{c(){t=g("footer"),i&&i.c(),n=$(),r&&r.c(),w(t,"class","resource-page__content-footer")},m(e,l){f(e,t,l),i&&i.m(t,null),m(t,n),r&&r.m(t,null),o=!0},p(e,o){e[8]?i?i.p(e,o):(i=Qe(e),i.c(),i.m(t,n)):i&&(i.d(1),i=null),$e.canEdit||r.p(e,o)},i(e){o||(G(r),o=!0)},o(e){B(r),o=!1},d(e){e&&h(t),i&&i.d(),r&&r.d()}}}function Qe(e){let t,n,o,i,r,l,s;return{c(){t=g("div"),n=g("button"),o=g("span"),i=$(),r=g("span"),r.textContent=""+be.markAsUnread,w(o,"class","resource-page__mark-as-unread-icon"),w(n,"class","resource-page__mark-as-unread"),n.disabled=e[7],w(t,"class","resource-page__mark-as-unread-wrapper")},m(c,a){f(c,t,a),m(t,n),m(n,o),m(n,i),m(n,r),l||(s=_(n,"click",e[17]),l=!0)},p(e,t){128&t&&(n.disabled=e[7])},d(e){e&&h(t),l=!1,s()}}}function Xe(e){let t,n,o=e[4].plan&&!e[4].loading&&He(e);return{c(){o&&o.c(),t=y()},m(e,i){o&&o.m(e,i),f(e,t,i),n=!0},p(e,[n]){e[4].plan&&!e[4].loading?o?(o.p(e,n),16&n&&G(o,1)):(o=He(e),o.c(),G(o,1),o.m(t.parentNode,t)):o&&(z(),B(o,1,1,()=>{o=null}),q())},i(e){n||(G(o),n=!0)},o(e){B(o),n=!1},d(e){o&&o.d(e),e&&h(t)}}}const Ye="resource-page__back-link resource-page__back-link--sidebar";function Ze(e,t,n){let o;d(e,ge,e=>n(4,o=e));let i,r,l,s,c,a=!(document.documentElement.clientWidth>1024)||"true"===new URL(window.location).searchParams.get($e.planner2SidebarCollapsedParam),u=location.search,p=$e.backUrl,m=!1,f=!1,h=[],g=!1;async function b(e,t){m||(await De(e,t),n(7,m=!0))}return e.$$.update=()=>{if(1&e.$$.dirty)if(a){const e=new URL(window.location);e.searchParams.set($e.planner2SidebarCollapsedParam,"true"),window.history.replaceState({},"",e),n(1,u=location.search)}else{const e=new URL(window.location);e.searchParams.set($e.planner2SidebarCollapsedParam,"false"),window.history.replaceState({},"",e),n(1,u=location.search)}21&e.$$.dirty&&o.plan&&!o.loading&&(n(2,i=o.plan.elements.find(e=>e.id===$e.resourceId)),n(14,r=o.plan.title),"Folder"===i.type&&n(2,i.url+=`&${$e.planner2SidebarCollapsedParam}=${a}`,i)),16402&e.$$.dirty&&(null!=p?(n(6,s=p.url),n(5,l=p.label)):(n(5,l=$e.resourceSidebarEnabled?ye(be.backTo,be.planHeader):ye(be.backTo,r&&r.length?r:be.planHeader)),n(6,s=o.plan?`${o.plan.url}${u}`:void 0))),28&e.$$.dirty&&o.plan&&!o.loading&&($e.useGenericResourceColumn?n(3,h=o.plan.elements):n(3,h=[...o.plan.elements.filter(e=>e.isResource),...o.plan.elements.filter(e=>!e.isResource)]),n(3,h=h.filter(e=>e.isResource&&($e.isLearner?($e.useGenericResourceColumn,$e.columnVisibilities[xe.Resources]===_e):($e.useGenericResourceColumn,$e.columnVisibilities[xe.Resources]!==we))||!e.isResource&&($e.isLearner?$e.useGenericResourceColumn?$e.columnVisibilities[xe.Resources]===_e:$e.columnVisibilities[xe.Activities]===_e:$e.useGenericResourceColumn?$e.columnVisibilities[xe.Resources]!==we:$e.columnVisibilities[xe.Activities]!==we))),function(e){const t=h.indexOf(e)+1;n(9,c=t>=0&&t<h.length?h[t]:null),n(10,g=t==h.length)}(i)),4&e.$$.dirty&&n(8,f=i&&i.isResource&&!i.isFolder&&$e.isLearner)},[a,u,i,h,o,l,s,m,f,c,g,function(e){return e.isCompleted||e.id===i.id&&(i.isResource||"Discussion"===i.type||"LearningToolElement"===i.type&&2===i.learningToolId||"LearningToolElement"===i.type&&3===i.learningToolId||"LearningToolElement"===i.type&&5003===i.learningToolId)},b,function(){var e;e=$e.kpi.kpiMeasurementNextPlayPlan,Me({url:$e.kpi.kpiUrl,context:$e.kpi.kpiContext,section:$e.kpi.kpiSectionNewPlanner,measurement:e})},r,()=>n(0,a=!a),()=>n(0,a=!a),()=>b(o.plan.id,i.id)]}class et extends Y{constructor(e){super(),X(this,e,Ze,Xe,s,{})}}function tt(e,t,n){!function(e){e.update(e=>(e.loading=!0,e.error=void 0,e))}(e);return(t?Ue:Ve)(n).then(t=>{e.update(e=>(t.start&&(t.start=nt(t.start)),t.stop&&(t.stop=nt(t.stop)),t.activeFromDT&&(t.activeFromDT=nt(t.activeFromDT)),e.plan=t,e.loading=!1,e))}).catch(t=>function(e,t){return console.error(t),e.update(e=>(e.loading=!1,e.error=t,e)),{error:t}}(e,t))}function nt(e){const t=new Date(e),n=6e4*t.getTimezoneOffset();return new Date(t.getTime()+n)}function ot(t,n={}){e({messageName:t,...n})}function it(){ot("collapseContentAreaFrame"),ot("setIframeDefaultHeight")}document.addEventListener("DOMContentLoaded",(function(){(()=>{const e=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/);document.addEventListener("click",t("iframeClickBubble")),e||document.addEventListener("touchstart",t("iframeTouchstartBubble"))})();const e=window.itslTop||window.top;e&&("function"==typeof e.hideContentAreaTreeMenu&&e.hideContentAreaTreeMenu(),"function"==typeof e.SelectCurrentNavigationItem&&e.SelectCurrentNavigationItem("planner"));ot("askIfCustomTreeLinkNavigationRequired"),ot("expandContentAreaFrame"),ot("setIframeDefaultHeight"),window.onunload=it,document.pagehide=it,ot("setIFrameTitleMessage",{iFrameTitle:be.title});const n=document.getElementById("plans");new et({target:n}),tt(ge,$e.publicAccessKey),window.addEventListener("message",e=>{if(e.origin===location.origin){const t=JSON.parse(e.data);["collapseContentAreaFrame","collapseExtensionIframe"].includes(t.messageName)&&setTimeout(()=>ot("expandContentAreaFrame"),0)}},!1)}));
//# sourceMappingURL=resourcePage.bundle.js.map
